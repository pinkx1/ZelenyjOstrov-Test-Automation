# Инструкция по запуску тестов Playwright на Windows

## 1. Установка Node.js (если ранее не установлено)
1. Проверьте, установлено ли ранее:
   ```bash
   node -v
   npm -v
   ````
2. Перейдите на официальный сайт [Node.js](https://nodejs.org/en/) и скачайте LTS версию (рекомендуется).
3. Запустите установочный файл и следуйте инструкциям.
4. После установки откройте командную строку (cmd) или PowerShell и проверьте, что Node.js установлен корректно, введя следующие команды:

   ```bash
   node -v
   npm -v

## 2. Подготовка проекта

1. Разархивируйте папку проекта zelenyjostrov в удобное для вас место на компьютере.
2. Откройте командную строку или PowerShell и перейдите в папку проекта:

   ```bash
   cd путь_к_папке_проекта/zelenyjostrov
3. Установите все необходимые зависимости, которые указаны в файле package.json, выполнив следующую команду:

   ```bash
   npm install  
   ```
   Эта команда установит все модули, необходимые для запуска Playwright тестов.



## 3. Установка браузеров для Playwright:
   
Для корректного запуска тестов Playwright необходимо установить браузеры. Выполните следующую команду:

```bash
  npx playwright install
```

## 4. Настройка переменных окружения (env)

   Заполните файл `.env` нужными переменными:
   ```
   ENDPOINT_FOR_REPORT=
   MAILSAC_API_KEY=
   TEST_NAME=
   TEST_EMAIL=
   TEST_PHONE_NUMBER=
   STORE_NAME_FOR_DELIVERY_OPTION=
   ```
   1. `ENDPOINT_FOR_REPORT` - указать эндпоинт, на который будет отправляться отчет о результатах тестирования
   2. `MAILSAC_API_KEY` - сгенерировать здесь: https://mailsac.com/v2/credentials
   3. `TEST_NAME` - указать имя, которое будет указано при оформлении заказа
   4. `TEST_EMAIL` - указать емейл, который будет указан при оформлении заказа. Это должен быть любой емейл с сервиса https://mailsac.com/
   5. `TEST_PHONE_NUMBER` - указать номер телефона, который будет указан при оформлении заказа
   6. `STORE_NAME_FOR_DELIVERY_OPTION` - указать название магазина, который будет выбран как пункт для самовывоза заказа. **Важно** указать его в точности так, как написано название на кнопке выбора магазина на странице оформления заказа, иначе тест не сможет нажать на эту кнопку.
      
   Эти переменные нужны для корректного выполнения тестов и отправки отчетов.


## 3. Запуск тестов

После установки всех зависимостей, запустите тесты с помощью следующей команды:
```bash
   npx playwright test
```
## 4. Открытие HTML-отчета после выполнения тестов (опционально)

После выполнения тестов вы можете открыть отчет о тестировании, запустив следующую команду:
```bash
npx playwright show-report
```

## 5. Описание конфигурации Playwright

В проекте используется файл конфигурации Playwright (`playwright.config.ts`), который управляет настройками для запуска тестов. Вот основные параметры:

### 5.1 fullyParallel

  `fullyParallel: true` — этот параметр позволяет запускать тесты в полностью параллельном режиме. Это означает, что все тесты будут выполняться одновременно в отдельных потоках. Если нужно, чтобы тесты выполнялись по очереди - замените `true` на `false`.

### 5.2 baseURL
  `baseURL` — это базовый URL, который используется для всех тестов. Он определяет, на какой среде будут запускаться тесты. Важно, что в конце урла не было символа `/`, это помешает выполнению тестов. URL должен быть такого вида: `http://127.0.0.1:3000` или `https://www.test.com`

### 5.3 headless
`headless` — этот параметр указывает, следует ли запускать браузер в фоновом режиме без графического интерфейса. Если headless: true, браузер будет запускаться без графического интерфейса, что позволяет ускорить выполнение тестов, так как это снижает нагрузку на систему. Если нужно визуально наблюдать за тестами - установите параметр как `false`